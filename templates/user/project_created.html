<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Created - House-Forge</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root{--cream:#FAF8F5;--warm-white:#FFFFFF;--sand:#F0EBE3;--stone:#E2D9CE;--accent:#B5804F;--accent-dark:#8C5E35;--accent-light:#F7EDE2;--text-primary:#1C1917;--text-secondary:#6B5E52;--text-muted:#9C8E84;--shadow-sm:0 1px 3px rgba(28,25,23,0.06);--shadow-md:0 4px 16px rgba(28,25,23,0.08);--shadow-lg:0 12px 40px rgba(28,25,23,0.10);}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'DM Sans',sans-serif;background:var(--cream);min-height:100vh;color:var(--text-primary);position:relative;}
        body::before{content:'';position:fixed;inset:0;background:url('/static/images/house.jpg') no-repeat center/cover;opacity:0.08;z-index:0;pointer-events:none;}

        .container{max-width:960px;margin:40px auto;padding:0 24px;position:relative;z-index:1;}

        /* SUCCESS BANNER */
        .success-banner{background:var(--warm-white);border:1px solid var(--stone);border-radius:16px;padding:36px 40px;margin-bottom:24px;box-shadow:var(--shadow-md);text-align:center;position:relative;overflow:hidden;}
        .success-banner::before{content:'';position:absolute;top:-60px;right:-60px;width:200px;height:200px;background:radial-gradient(circle,var(--accent-light),transparent 70%);pointer-events:none;}
        .success-icon{font-size:64px;display:block;margin-bottom:14px;animation:bounceIn 0.8s cubic-bezier(.36,.07,.19,.97);}
        @keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.1)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
        .success-banner h1{font-family:'Playfair Display',serif;font-size:28px;font-weight:700;color:var(--text-primary);margin-bottom:8px;}
        .success-banner p{color:var(--text-secondary);font-size:14px;}
        .divider{width:40px;height:3px;background:var(--accent);border-radius:2px;margin:12px auto;}

        /* CARDS */
        .card{background:var(--warm-white);border:1px solid var(--stone);border-radius:16px;padding:28px 32px;margin-bottom:20px;box-shadow:var(--shadow-sm);}
        .section-title{font-family:'Playfair Display',serif;font-size:17px;font-weight:600;color:var(--text-primary);margin-bottom:18px;padding-bottom:12px;border-bottom:1px solid var(--sand);}

        /* PROJECT INFO */
        .info-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
        @media(max-width:600px){.info-grid{grid-template-columns:repeat(2,1fr);}}
        .info-chip{display:flex;align-items:center;gap:8px;background:var(--sand);border:1px solid var(--stone);border-radius:8px;padding:10px 14px;font-size:13px;color:var(--text-secondary);font-weight:500;}

        /* COST CARDS */
        .cost-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
        @media(max-width:600px){.cost-grid{grid-template-columns:1fr;}}
        .cost-card{padding:24px 20px;border:1.5px solid var(--stone);background:var(--sand);border-radius:12px;text-align:center;transition:all 0.25s;}
        .cost-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);}
        .cost-card.selected{border-color:var(--accent);background:var(--accent);color:white;transform:scale(1.03);box-shadow:0 8px 24px rgba(181,128,79,0.3);}
        .cost-icon{font-size:32px;margin-bottom:8px;display:block;}
        .cost-tier{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.8px;opacity:0.8;margin-bottom:6px;}
        .cost-amount{font-family:'Playfair Display',serif;font-size:28px;font-weight:700;margin-bottom:8px;}
        .cost-details{font-size:12px;opacity:0.75;line-height:1.6;}

        /* TIMELINE */
        .timeline-card{background:linear-gradient(135deg,var(--accent-light),#FEF3C7);border:1px solid rgba(181,128,79,0.2);border-radius:14px;padding:24px 28px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;gap:16px;}
        .timeline-left{flex:1;}
        .timeline-label{font-size:12px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.7px;margin-bottom:6px;}
        .timeline-days{font-family:'Playfair Display',serif;font-size:36px;font-weight:700;color:var(--accent);line-height:1;}
        .timeline-months{font-size:14px;color:var(--text-secondary);margin-top:4px;}
        .timeline-icon{font-size:48px;opacity:0.5;}

        /* STAGES GRID */
        .stages-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;}
        @media(max-width:600px){.stages-grid{grid-template-columns:1fr;}}
        .stage-card{padding:18px 20px;border:1px solid var(--stone);background:var(--cream);border-radius:10px;transition:all 0.2s;}
        .stage-card:hover{border-color:var(--accent);background:var(--accent-light);}
        .stage-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;}
        .stage-name{font-size:14px;font-weight:600;color:var(--text-primary);}
        .stage-cost{font-size:14px;font-weight:700;color:var(--accent);}
        .stage-count{font-size:12px;color:var(--text-muted);}

        /* ACTIONS */
        .actions{display:flex;gap:14px;margin-top:4px;}
        .btn-primary{flex:1;padding:14px 24px;background:var(--accent);color:white;border:none;border-radius:10px;font-weight:600;font-size:15px;cursor:pointer;transition:all 0.2s;text-decoration:none;text-align:center;font-family:'DM Sans',sans-serif;}
        .btn-primary:hover{background:var(--accent-dark);transform:translateY(-2px);box-shadow:0 6px 20px rgba(181,128,79,0.3);}
        .btn-secondary{flex:1;padding:14px 24px;background:var(--sand);color:var(--text-secondary);border:1.5px solid var(--stone);border-radius:10px;font-weight:600;font-size:15px;text-decoration:none;text-align:center;transition:all 0.2s;}
        .btn-secondary:hover{background:var(--stone);}

        @keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
        .success-banner{animation:fadeUp 0.5s ease both;}
        .card{animation:fadeUp 0.5s 0.1s ease both;}
    </style>
</head>
<body>
    <div class="container">
        <!-- Success Banner -->
        <div class="success-banner">
            <span class="success-icon">‚úÖ</span>
            <h1>Project Created Successfully!</h1>
            <div class="divider"></div>
            <p>Complete construction estimation with {{ estimation.total_materials_count }}+ materials calculated</p>
        </div>

        <!-- Project Info -->
        <div class="card">
            <div class="section-title">üèóÔ∏è {{ project.title }}</div>
            <div class="info-grid">
                <div class="info-chip"><span>üìè</span>{{ project.square_feet }} sq ft</div>
                <div class="info-chip"><span>üìç</span>{{ project.location }}</div>
                <div class="info-chip"><span>üö™</span>{{ project.rooms }} Rooms</div>
                <div class="info-chip"><span>üè¢</span>{{ project.floors }} Floors</div>
                <div class="info-chip"><span>üöø</span>{{ project.bathrooms }} Bathrooms</div>
                <div class="info-chip"><span>üèòÔ∏è</span>{{ project.property_type.title() }}</div>
            </div>
        </div>

        <!-- Cost Estimates -->
        <div class="card">
            <div class="section-title">üí∞ Total Cost Estimation</div>
            <div class="cost-grid">
                <div class="cost-card {% if project.budget_range == 'low' %}selected{% endif %}">
                    <span class="cost-icon">üíµ</span>
                    <div class="cost-tier">Budget</div>
                    <div class="cost-amount">‚Çπ{{ "{:,.0f}".format(estimation.costs.low.total_cost) }}</div>
                    <div class="cost-details">Materials: ‚Çπ{{ "{:,.0f}".format(estimation.costs.low.material_cost) }}<br>Labour: ‚Çπ{{ "{:,.0f}".format(estimation.costs.low.labor_cost) }}</div>
                </div>
                <div class="cost-card {% if project.budget_range == 'medium' %}selected{% endif %}">
                    <span class="cost-icon">üí∞</span>
                    <div class="cost-tier">Standard</div>
                    <div class="cost-amount">‚Çπ{{ "{:,.0f}".format(estimation.costs.medium.total_cost) }}</div>
                    <div class="cost-details">Materials: ‚Çπ{{ "{:,.0f}".format(estimation.costs.medium.material_cost) }}<br>Labour: ‚Çπ{{ "{:,.0f}".format(estimation.costs.medium.labor_cost) }}</div>
                </div>
                <div class="cost-card {% if project.budget_range == 'high' %}selected{% endif %}">
                    <span class="cost-icon">üíé</span>
                    <div class="cost-tier">Premium</div>
                    <div class="cost-amount">‚Çπ{{ "{:,.0f}".format(estimation.costs.high.total_cost) }}</div>
                    <div class="cost-details">Materials: ‚Çπ{{ "{:,.0f}".format(estimation.costs.high.material_cost) }}<br>Labour: ‚Çπ{{ "{:,.0f}".format(estimation.costs.high.labor_cost) }}</div>
                </div>
            </div>
        </div>

        <!-- Timeline -->
        <div class="timeline-card">
            <div class="timeline-left">
                <div class="timeline-label">‚è±Ô∏è Estimated Timeline</div>
                <div class="timeline-days">{{ estimation.timeline.total_days }} <span style="font-size:20px;color:var(--text-secondary);">days</span></div>
                <div class="timeline-months">Approximately {{ (estimation.timeline.total_days / 30) | round(1) }} months to complete</div>
            </div>
            <div class="timeline-icon">üèóÔ∏è</div>
        </div>

        <!-- Construction Stages -->
        <div class="card">
            <div class="section-title">üèóÔ∏è Construction Stages Breakdown</div>
            <div class="stages-grid">
                {% set stages = [
                    ('üèóÔ∏è','Foundation','foundation'),
                    ('üß±','Walls','walls'),
                    ('ü™ü','Flooring','flooring'),
                    ('üè†','Roofing','roofing'),
                    ('üö∞','Plumbing','plumbing'),
                    ('‚ö°','Electrical','electrical'),
                    ('üé®','Finishing','finishing'),
                    ('ü™ë','Carpentry','carpentry'),
                    ('üå≥','Exterior','exterior'),
                    ('üîß','Miscellaneous','miscellaneous')
                ] %}
                {% for icon, name, key in stages %}
                <div class="stage-card">
                    <div class="stage-header">
                        <div class="stage-name">{{ icon }} {{ name }}</div>
                        <div class="stage-cost">‚Çπ{{ "{:,.0f}".format(estimation.costs[project.budget_range].stage_breakdown[key]) }}</div>
                    </div>
                    <div class="stage-count">{{ estimation.materials[key] | length }} materials</div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Actions -->
        <div class="actions">
            <a href="{{ url_for('user.projects') }}" class="btn-primary">View My Projects</a>
            <a href="{{ url_for('user.dashboard') }}" class="btn-secondary">Go to Dashboard</a>
        </div>
    </div>
</body>
</html>